<form class='form-product-ajax' method='POST' action='{% url "cart:update" %}' data-endpoint='{% url "cart:update" %}' class="form"> {% csrf_token %}
  <!-- en este formulario si el producto está en el cart (if product in cart.products.all), damos la opción
  de eliminarlo (remove). Tanto product como cart, vienen de la view ProductDetailSlugView.
  Tanto si se añade el producto al cart (add to cart) o si se decide eliminar (remove?), se va a la URL
  cart:update. Esa URL va a la view cart_update dentro de la app cart. Esa view modifica el cart, y
  redirecciona a cart:home (después de haber modificado el cart).
  A esa view (cart_update), se le pasa la información de product.id (como value)-->

  <input type='hidden' name='product_id' value='{{ product.id }}' />
  <span class="submit-span">
    {% if product in cart.products.all %}
    <!-- Revisamos si el producto esta en el cart. El cart viene de ProductDetailSlugView en producst/views.py -->
      In cart <button type='submit' class='btn btn-link btn-sm'>Remove?</button>
    {% else %}
      <button class='btn btn-success'>Add to cart</button>
    {% endif %}
  </span>
</form>
